<nav class="bg-white shadow-sm sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <a href="{{ routes.root_url }}" class="flex-shrink-0 flex items-center">
          {% if settings.logo != blank %}
            <img class="h-12" src="{{ settings.logo | image_url: width: 300 }}" alt="{{ shop.name }}">
          {% else %}
            <span class="text-lg font-semibold">{{ shop.name }}</span>
          {% endif %}
        </a>
      </div>

      <div class="hidden md:flex md:items-center md:space-x-8">
        {% if settings.menu_main != blank and linklists[settings.menu_main] %}
          {% for link in linklists[settings.menu_main].links %}
            <a href="{{ link.url }}" class="nav-link text-gray-700 hover:text-gray-900 text-sm font-medium">{{ link.title }}</a>
          {% endfor %}
        {% endif %}

        {% if settings.cta_label != blank and settings.cta_link != blank %}
          <a href="{{ settings.cta_link }}" class="ml-6 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">
            <i data-feather="phone" class="mr-2"></i> {{ settings.cta_label }}
          </a>
        {% endif %}
      </div>

      <div class="-mr-2 flex items-center md:hidden">
        <button type="button" aria-controls="mobile-menu" aria-expanded="false"
          class="mobile-toggle inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
          <i data-feather="menu"></i>
        </button>
      </div>
    </div>
  </div>

  <div id="mobile-menu" class="md:hidden hidden border-t border-gray-200 bg-white">
    <div class="px-4 py-3 space-y-1">
      {% if settings.menu_main != blank and linklists[settings.menu_main] %}
        {% for link in linklists[settings.menu_main].links %}
          <a href="{{ link.url }}" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100">{{ link.title }}</a>
        {% endfor %}
      {% endif %}
      {% if settings.phone != blank %}
        <a href="tel:{{ settings.phone | strip }}" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700">{{ settings.phone }}</a>
      {% endif %}
    </div>
  </div>
</nav>

<script>
  (function(){
    var btn=document.querySelector('.mobile-toggle'),menu=document.getElementById('mobile-menu');
    if(btn&&menu){btn.addEventListener('click',function(){menu.classList.toggle('hidden')})}
    if(window.feather) feather.replace();
  })();
</script>

{% schema %}
{
  "name": "Rehab Header",
  "settings": [
    { "type": "image_picker", "id": "logo", "label": "Logo" },
    { "type": "link_list", "id": "menu_main", "label": "Hovedmenu" },
    { "type": "text", "id": "cta_label", "label": "CTA label", "default": "41 41 90 70" },
    { "type": "url", "id": "cta_link", "label": "CTA link", "default": "tel:41419070" },
    { "type": "text", "id": "phone", "label": "Telefon (mobil-menu)", "default": "41 41 90 70" }
  ],
  "presets": [{ "name": "Rehab Header" }]
}
{% endschema %}
